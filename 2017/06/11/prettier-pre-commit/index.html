<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/public/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="http://gmpg.org/xfn/11" rel="profile">

    <title>
      Automatically format your javascript files on commit using Prettier &middot; 
      Zápisník Josefa Rouska
    </title>

    <meta content="Zápisník Josefa Rouska" property="og:site_name">
    
      <meta content="Automatically format your javascript files on commit using Prettier" property="og:title">
    
    
      <meta content="article" property="og:type">
      <meta property="article:author" content="https://www.facebook.com/josef.rousek" />
    
    
      <meta name="description" content="I recently fell in love with prettier. Prettier is an opinionated code formatter.
Having consistently formatted code is very pleasant feeling for me and having formatting done automatically?
Woah! The best part is that you can easily run prettier on git commit. That way you can write messy code and it will get cleaned up automatically. Let’s do it.
">
      <meta content="I recently fell in love with prettier. Prettier is an opinionated code formatter.
Having consistently formatted code is very pleasant feeling for me and having formatting done automatically?
Woah! The best part is that you can easily run prettier on git commit. That way you can write messy code and it will get cleaned up automatically. Let’s do it.
" property="og:description">
    
    
      <meta content="https://blog.rousek.name/2017/06/11/prettier-pre-commit/" property="og:url">
    
    
      <meta content="2017-06-11T00:00:00-05:00" property="article:published_time">
    
    

    <!-- CSS -->
    <link rel="stylesheet" href="/public/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400italic,400,600,700|Abril+Fatface&subset=latin,latin-ext">

    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/public/favicon.png">

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

    <script async defer data-domain="blog.rousek.name" src="https://plausible.io/js/plausible.js"></script>
  </head>
  <body>

    <header class="masthead">
      <div class="masthead-inner">
        <h1><a href="/">Zápisník Josefa Rouska</a></h1>
        <p class="lead">Python a React.js programátor, zaměřený na Shopify integrace</p>

        <div class="colophon">
          <ul class="colophon-links">
            <li><a href="https://rousek.name/">about</a></li>
            <li><a href="https://github.com/stlk">github</a></li>
            <li><a href="https://twitter.com/josefrousek">twitter</a></li>
          </ul>
        </div>

      </div>
    </header>

    <div class="content container">
      <div class="post">
  <h1>Automatically format your javascript files on commit using Prettier</h1>
  <span class="post-date">11 Jun 2017</span>
  <p>I recently fell in love with <a href="https://github.com/prettier/prettier">prettier</a>. Prettier is an opinionated code formatter.
Having consistently formatted code is very pleasant feeling for me and having formatting done automatically?
Woah! The best part is that you can easily run <code class="language-plaintext highlighter-rouge">prettier</code> on <code class="language-plaintext highlighter-rouge">git commit</code>. That way you can write messy code and it will get cleaned up automatically. Let’s do it.</p>

<p>By combining three packages we can create pre-commit git hook that will transform javascript files using <a href="https://github.com/prettier/prettier">prettier</a>. Those packages are <code class="language-plaintext highlighter-rouge">lint-staged</code>, <code class="language-plaintext highlighter-rouge">pre-commit</code> and <code class="language-plaintext highlighter-rouge">prettier</code>.
To install them run <code class="language-plaintext highlighter-rouge">npm install --save-dev lint-staged pre-commit prettier</code>.</p>

<p>Then add following keys to your <code class="language-plaintext highlighter-rouge">package.json</code>.</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"lint:staged"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lint-staged"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"lint-staged"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"*.js"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"prettier --write --single-quote --trailing-comma=all"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"git add"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"pre-commit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lint:staged"</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<p>Now when you commit you code you should see <code class="language-plaintext highlighter-rouge">✔ Running tasks for *.js</code> message.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s1">'Initial commit'</span>
 ✔ Running tasks <span class="k">for</span> <span class="k">*</span>.js
<span class="o">[</span>master <span class="o">(</span>root-commit<span class="o">)</span> 7da3cc3] Initial commit
 13 files changed, 4841 insertions<span class="o">(</span>+<span class="o">)</span></code></pre></figure>


</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2021/06/12/you-dont-need-a-spa/">
            You don't need a SPA
            <small>12 Jun 2021</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2021/03/13/websockets-on-django-and-react/">
            Websockets on Django and React
            <small>13 Mar 2021</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2020/08/09/high-speed-request-filtering-using-cloudflare-workers/">
            Hi-speed request filtering using Cloudflare Workers
            <small>09 Aug 2020</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>
  </body>
</html>
